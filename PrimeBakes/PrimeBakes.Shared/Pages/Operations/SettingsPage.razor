@attribute [Route(PageRouteNames.Settings)]

@using PrimeBakesLibrary.Models.Accounts.Masters

<PageTitle>Settings - Prime Bakes</PageTitle>

@if (_isLoading)
{
    <AnimatedLoader Visible="true" />
}
else
{
    <div class="page-shell">
        <Header Title="System Settings" Subtitle="Configure system-wide parameters and defaults" ShowHome="true"
                ShowBack="true" ShowLogout="true" OnHomeClick="NavigateToDashboard" OnBackClick="NavigateBack"
                OnLogoutClick="Logout">
            <RightContent>
                <IconButton Icon="IconType.Save" Variant="ButtonVariant.Save" Title="Save Settings (Ctrl + S)"
                            Disabled="_isProcessing" OnClick="SaveSettings" />
                <IconButton Icon="IconType.Reset" Title="Reset to Defaults" Disabled="_isProcessing"
                            OnClick="ShowResetConfirmation" />
            </RightContent>
        </Header>

        <!-- Main Content Container -->
        <div class="page-container">

            <!-- Primary Configuration Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3" />
                            <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
                        </svg>
                        <h2 class="section-title">Primary Configuration</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Primary Company -->
                        <div class="form-field">
                            <label class="field-label">
                                Primary Company <span class="required">*</span>
                            </label>
                            <SfAutoComplete @bind-Value="_selectedCompanyName" TValue="string" TItem="CompanyModel"
                                            DataSource="@_companies" Placeholder="Select primary company"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="CompanyModel" ValueChange="OnCompanyChange" />
                            </SfAutoComplete>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Code Prefixes Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <polyline points="16 18 22 12 16 6" />
                            <polyline points="8 6 2 12 8 18" />
                        </svg>
                        <h2 class="section-title">Master Data Code Prefixes</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Raw Material Code Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Raw Material Code Prefix
                            </label>
                            <SfTextBox @bind-Value="_rawMaterialCodePrefix" Placeholder="e.g., RM"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Finished Product Code Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Finished Product Code Prefix
                            </label>
                            <SfTextBox @bind-Value="_finishedProductCodePrefix" Placeholder="e.g., FP"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Ledger Code Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Ledger Code Prefix
                            </label>
                            <SfTextBox @bind-Value="_ledgerCodePrefix" Placeholder="e.g., LD"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transaction Prefixes Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <line x1="12" y1="1" x2="12" y2="23" />
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                        </svg>
                        <h2 class="section-title">Transaction Prefixes</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Purchase Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Purchase Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_purchaseTransactionPrefix" Placeholder="e.g., PUR"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Purchase Return Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Purchase Return Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_purchaseReturnTransactionPrefix" Placeholder="e.g., PURR"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Kitchen Issue Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Kitchen Issue Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_kitchenIssueTransactionPrefix" Placeholder="e.g., KI"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Kitchen Production Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Kitchen Production Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_kitchenProductionTransactionPrefix" Placeholder="e.g., KP"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Raw Material Stock Adjustment Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Raw Material Stock Adjustment Prefix
                            </label>
                            <SfTextBox @bind-Value="_rawMaterialStockAdjustmentTransactionPrefix" Placeholder="e.g., RMSA"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Product Stock Adjustment Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Product Stock Adjustment Prefix
                            </label>
                            <SfTextBox @bind-Value="_productStockAdjustmentTransactionPrefix" Placeholder="e.g., PSA"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Sale Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Sale Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_saleTransactionPrefix" Placeholder="e.g., SAL"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Sale Return Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Sale Return Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_saleReturnTransactionPrefix" Placeholder="e.g., SALR"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Stock Transfer Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Stock Transfer Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_stockTransferTransactionPrefix" Placeholder="e.g., STK"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Order Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Order Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_orderTransactionPrefix" Placeholder="e.g., ORD"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Bill Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Bill Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_billTransactionPrefix" Placeholder="e.g., BIL"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>

                        <!-- Accounting Transaction Prefix -->
                        <div class="form-field">
                            <label class="field-label">
                                Accounting Transaction Prefix
                            </label>
                            <SfTextBox @bind-Value="_accountingTransactionPrefix" Placeholder="e.g., ACC"
                                       FloatLabelType="FloatLabelType.Never" CssClass="custom-textbox" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vouchers Configuration Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="12" y1="18" x2="12" y2="12" />
                            <line x1="9" y1="15" x2="15" y2="15" />
                        </svg>
                        <h2 class="section-title">Voucher Linking</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Sale Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Sale Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedSaleVoucherName" TValue="string" TItem="VoucherModel"
                                            DataSource="@_vouchers" Placeholder="Select sale voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnSaleVoucherChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Sale Return Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Sale Return Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedSaleReturnVoucherName" TValue="string"
                                            TItem="VoucherModel" DataSource="@_vouchers" Placeholder="Select sale return voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnSaleReturnVoucherChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Bill Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Bill Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedBillVoucherName" TValue="string" TItem="VoucherModel"
                                            DataSource="@_vouchers" Placeholder="Select bill voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnBillVoucherChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Stock Transfer Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Stock Transfer Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedStockTransferVoucherName" TValue="string"
                                            TItem="VoucherModel" DataSource="@_vouchers" Placeholder="Select stock transfer voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnStockTransferVoucherChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Purchase Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Purchase Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedPurchaseVoucherName" TValue="string" TItem="VoucherModel"
                                            DataSource="@_vouchers" Placeholder="Select purchase voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnPurchaseVoucherChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Purchase Return Voucher -->
                        <div class="form-field">
                            <label class="field-label">
                                Purchase Return Voucher
                            </label>
                            <SfAutoComplete @bind-Value="_selectedPurchaseReturnVoucherName" TValue="string"
                                            TItem="VoucherModel" DataSource="@_vouchers" Placeholder="Select purchase return voucher"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="VoucherModel"
                                                    ValueChange="OnPurchaseReturnVoucherChange" />
                            </SfAutoComplete>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ledgers Configuration Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                            <line x1="10" y1="9" x2="8" y2="9" />
                        </svg>
                        <h2 class="section-title">Ledger Linking</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Sale Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Sale Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedSaleLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select sale ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel" ValueChange="OnSaleLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Stock Transfer Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Stock Transfer Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedStockTransferLedgerName" TValue="string"
                                            TItem="LedgerModel" DataSource="@_ledgers" Placeholder="Select stock transfer ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel"
                                                    ValueChange="OnStockTransferLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Bill Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Bill Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedBillLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select bill ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel" ValueChange="OnBillLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Purchase Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Purchase Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedPurchaseLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select purchase ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel"
                                                    ValueChange="OnPurchaseLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Cash Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Cash Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedCashLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select cash ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel" ValueChange="OnCashLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- Cash Sales Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                Cash Sales Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedCashSalesLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select cash sales ledger"
                                            FloatLabelType="FloatLabelType.Never" AllowFiltering="true"
                                            FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains" CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel"
                                                    ValueChange="OnCashSalesLedgerChange" />
                            </SfAutoComplete>
                        </div>

                        <!-- GST Ledger -->
                        <div class="form-field">
                            <label class="field-label">
                                GST Ledger
                            </label>
                            <SfAutoComplete @bind-Value="_selectedGSTLedgerName" TValue="string" TItem="LedgerModel"
                                            DataSource="@_ledgers" Placeholder="Select GST ledger" FloatLabelType="FloatLabelType.Never"
                                            AllowFiltering="true" FilterType="Syncfusion.Blazor.DropDowns.FilterType.Contains"
                                            CssClass="custom-autocomplete">
                                <AutoCompleteFieldSettings Value="Name" />
                                <AutoCompleteEvents TValue="string" TItem="LedgerModel" ValueChange="OnGSTLedgerChange" />
                            </SfAutoComplete>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Purchase Behavior Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title-wrapper">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1" />
                            <circle cx="20" cy="21" r="1" />
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
                        </svg>
                        <h2 class="section-title">Purchase Behavior</h2>
                    </div>
                </div>
                <div class="section-body">
                    <div class="form-grid">
                        <!-- Update Item Master Rate on Purchase -->
                        <div class="form-field">
                            <label class="field-label">Automatically update raw material master rate when purchasing</label>
                            <div class="checkbox-wrapper">
                                <SfCheckBox @bind-Checked="_updateItemMasterRateOnPurchase"
                                            Label="Update Raw Material Rate on Purchase" CssClass="custom-checkbox" />
                            </div>
                        </div>

                        <!-- Update Item Master UOM on Purchase -->
                        <div class="form-field">
                            <label class="field-label">Automatically update raw material unit of measure when
                                purchasing</label>
                                <div class="checkbox-wrapper">
                                    <SfCheckBox @bind-Checked="_updateItemMasterUOMOnPurchase"
                                                Label="Update Raw Material UOM on Purchase" CssClass="custom-checkbox" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Report Settings Section -->
                <div class="section-card">
                    <div class="section-header">
                        <div class="section-title-wrapper">
                            <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10" />
                                <polyline points="12 6 12 12 16 14" />
                            </svg>
                            <h2 class="section-title">Report Settings</h2>
                        </div>
                    </div>
                    <div class="section-body">
                        <div class="form-grid">
                            <!-- Auto Refresh Report Timer -->
                            <div class="form-field">
                                <label class="field-label">
                                    Auto Refresh Timer (Interval in minutes for automatic report data refresh)
                                </label>
                                <SfNumericTextBox @bind-Value="_autoRefreshReportTimer" TValue="int" Min="1" Max="60"
                                                  Placeholder="e.g., 5" FloatLabelType="FloatLabelType.Never" CssClass="custom-numeric" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <ResetConfirmationDialog @ref="_resetConfirmationDialog"
                                     Message="Are you sure you want to reset all settings to their default values?"
                                     WarningMessage="This will reset all system configuration to default values including company linking, code prefixes, transaction prefixes, voucher and ledger associations, and purchase behavior settings."
                                     NoteMessage="This action cannot be undone. You will need to reconfigure all settings manually."
                                     ConfirmButtonText="Reset Settings" Disabled="@_isProcessing" OnConfirm="ConfirmReset" OnCancel="CancelReset" />

            <Footer />
        </div>
    }

    <ToastNotification @ref="_toastNotification" />